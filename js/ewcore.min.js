/*!
 * Core JavaScript for PHPMaker v24.13.0
 * Copyright (c) SakilaSoft. All rights reserved.
 */
var ew = (function () {
  "use strict";
  var e = function () {},
    t = {},
    n = {},
    r = {};
  function i(e, t) {
    if (e) {
      var i = r[e];
      if (((n[e] = t), i)) for (; i.length; ) i[0](e, t), i.splice(0, 1);
    }
  }
  function o(t, n) {
    t.call && (t = { success: t }),
      n.length ? (t.error || e)(n) : (t.success || e)(t);
  }
  function s(t, n, r, i) {
    var o,
      a = document,
      l = r.async,
      u = (r.numRetries || 0) + 1,
      c = r.before || e,
      d = t.replace(/[\?|#].*$/, ""),
      p = t.replace(/^(css|img)!/, "");
    (i = i || 0),
      /(^css!|\.css$)/.test(d)
        ? (((o = a.createElement("link")).rel = "stylesheet"), (o.href = p))
        : /(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)
        ? ((o = a.createElement("img")).src = p)
        : (((o = a.createElement("script")).src = t),
          (o.async = void 0 === l || l)),
      (o.onload =
        o.onerror =
        o.onbeforeload =
          function (e) {
            var a = e.type[0];
            if ("e" == a) {
              if ((i += 1) < u) return s(t, n, r, i);
            } else if ("preload" == o.rel && "style" == o.as)
              return (o.rel = "stylesheet");
            n(t, a, e.defaultPrevented);
          }),
      !1 !== c(t, o) && "IMG" != o.tagName && a.head.appendChild(o);
  }
  function a(e, n, r) {
    var a, l;
    if ((n && n.trim && (a = n), (l = (a ? r : n) || {}), a)) {
      if (a in t) throw "LoadJS";
      t[a] = !0;
    }
    function u(t, n) {
      !(function (e, t, n) {
        var r,
          i,
          o = (e = e.push ? e : [e]).length,
          a = o,
          l = [];
        for (
          r = function (e, n, r) {
            if (("e" == n && l.push(e), "b" == n)) {
              if (!r) return;
              l.push(e);
            }
            --o || t(l);
          },
            i = 0;
          i < a;
          i++
        )
          s(e[i], r, n);
      })(
        e,
        function (e) {
          o(l, e), t && o({ success: t, error: n }, e), i(a, e);
        },
        l
      );
    }
    if (l.returnPromise) return new Promise(u);
    u();
  }
  function l(e) {
    return (
      (l =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (e) {
              return typeof e;
            }
          : function (e) {
              return e &&
                "function" == typeof Symbol &&
                e.constructor === Symbol &&
                e !== Symbol.prototype
                ? "symbol"
                : typeof e;
            }),
      l(e)
    );
  }
  function u(e) {
    var t = (function (e, t) {
      if ("object" != l(e) || !e) return e;
      var n = e[Symbol.toPrimitive];
      if (void 0 !== n) {
        var r = n.call(e, t || "default");
        if ("object" != l(r)) return r;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === t ? String : Number)(e);
    })(e, "string");
    return "symbol" == l(t) ? t : String(t);
  }
  function c(e, t) {
    for (var n = 0; n < t.length; n++) {
      var r = t[n];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        "value" in r && (r.writable = !0),
        Object.defineProperty(e, u(r.key), r);
    }
  }
  function d(e, t, n) {
    return (
      t && c(e.prototype, t),
      n && c(e, n),
      Object.defineProperty(e, "prototype", { writable: !1 }),
      e
    );
  }
  function p(e, t, n) {
    return (
      (t = u(t)) in e
        ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
        : (e[t] = n),
      e
    );
  }
  (a.ready = function (e, t) {
    return (
      (function (e, t) {
        e = e.push ? e : [e];
        var i,
          o,
          s,
          a = [],
          l = e.length,
          u = l;
        for (
          i = function (e, n) {
            n.length && a.push(e), --u || t(a);
          };
          l--;

        )
          (o = e[l]), (s = n[o]) ? i(o, s) : (r[o] = r[o] || []).push(i);
      })(e, function (e) {
        o(t, e);
      }),
      a
    );
  }),
    (a.done = function (e) {
      i(e, []);
    }),
    (a.reset = function () {
      (t = {}), (n = {}), (r = {});
    }),
    (a.isDefined = function (e) {
      return e in t;
    });
  let h = (function () {
    function e(e) {
      p(this, "data", {}), (this.data = null != e ? e : {});
    }
    return (
      (e.prototype.phrase = function (e) {
        var t;
        return null != (t = this.data[e.toLowerCase()]) ? t : e;
      }),
      d(e, [
        {
          key: "phrases",
          get: function () {
            return this.data;
          },
          set: function (e) {
            this.data = e;
          },
        },
      ]),
      e
    );
  })();
  function f(e) {
    if (void 0 === e)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      );
    return e;
  }
  function m(e, t) {
    return (
      (m = Object.setPrototypeOf
        ? Object.setPrototypeOf.bind()
        : function (e, t) {
            return (e.__proto__ = t), e;
          }),
      m(e, t)
    );
  }
  function g(e) {
    return (
      (g = Object.setPrototypeOf
        ? Object.getPrototypeOf.bind()
        : function (e) {
            return e.__proto__ || Object.getPrototypeOf(e);
          }),
      g(e)
    );
  }
  function y(e, t, n) {
    return (
      (y = (function () {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
          return (
            Boolean.prototype.valueOf.call(
              Reflect.construct(Boolean, [], function () {})
            ),
            !0
          );
        } catch (e) {
          return !1;
        }
      })()
        ? Reflect.construct.bind()
        : function (e, t, n) {
            var r = [null];
            r.push.apply(r, t);
            var i = new (Function.bind.apply(e, r))();
            return n && m(i, n.prototype), i;
          }),
      y.apply(null, arguments)
    );
  }
  function w(e) {
    var t = "function" == typeof Map ? new Map() : void 0;
    return (
      (w = function (e) {
        if (
          null === e ||
          !(function (e) {
            try {
              return -1 !== Function.toString.call(e).indexOf("[native code]");
            } catch (t) {
              return "function" == typeof e;
            }
          })(e)
        )
          return e;
        if ("function" != typeof e)
          throw new TypeError(
            "Super expression must either be null or a function"
          );
        if ("undefined" != typeof t) {
          if (t.has(e)) return t.get(e);
          t.set(e, n);
        }
        function n() {
          return y(e, arguments, g(this).constructor);
        }
        return (
          (n.prototype = Object.create(e.prototype, {
            constructor: {
              value: n,
              enumerable: !1,
              writable: !0,
              configurable: !0,
            },
          })),
          m(n, e)
        );
      }),
      w(e)
    );
  }
  let v = (function () {
      function e(e, t, n) {
        p(this, "_selected", void 0),
          p(this, "_selectionList", void 0),
          p(this, "_innerHTML", ""),
          p(this, "_value", ""),
          p(this, "_defaultSelected", !1),
          (this._innerHTML = String(e)),
          (this._value = String(t)),
          (this._defaultSelected = !!n);
      }
      return (
        d(e, [
          {
            key: "text",
            get: function () {
              return this._innerHTML;
            },
            set: function (e) {
              this._innerHTML = String(e);
            },
          },
          {
            key: "innerHTML",
            get: function () {
              return this._innerHTML;
            },
            set: function (e) {
              this._innerHTML = e;
            },
          },
          {
            key: "value",
            get: function () {
              return this._value;
            },
            set: function (e) {
              this._value = String(e);
            },
          },
          {
            key: "defaultSelected",
            get: function () {
              return this._defaultSelected;
            },
            set: function (e) {
              this._defaultSelected = !!e;
            },
          },
          {
            key: "selectionList",
            get: function () {
              return this._selectionList;
            },
            set: function (e) {
              this._selectionList = e;
            },
          },
          {
            key: "selected",
            get: function () {
              var e;
              return null != (e = this._selected) ? e : this.defaultSelected;
            },
            set: function (e) {
              var t;
              (this._selected = e),
                null == (t = this._selectionList) || t.render();
            },
          },
        ]),
        e
      );
    })(),
    b = (function (e) {
      var t, n;
      function r() {
        var t;
        return (
          p(f((t = e.call(this) || this)), "containerClass", "d-sm-table"),
          p(f(t), "rowClass", "d-sm-table-row"),
          p(f(t), "cellClass", "d-sm-table-cell"),
          p(f(t), "options", []),
          (t._internals = t.attachInternals()),
          t
        );
      }
      (n = e),
        ((t = r).prototype = Object.create(n.prototype)),
        (t.prototype.constructor = t),
        m(t, n);
      var i = r.prototype;
      return (
        (i.connectedCallback = function () {
          let e = this.getAttribute("value") || "",
            t = this.multiple ? e.split(ew.MULTIPLE_OPTION_SEPARATOR) : [e];
          for (let e of t) this.add(e, "", !0);
        }),
        (i.add = function (e, t, n) {
          let r = new v(t, e, n);
          this.addOption(r);
        }),
        (i.addOption = function (e) {
          if (e instanceof v) {
            e.selectionList = this;
            let t = this.options.findIndex((t) => t.value == e.value);
            t > -1 ? (this.options[t] = e) : this.options.push(e);
          }
        }),
        (i.remove = function (e) {
          this.options[e] && this.options.splice(e, 1);
        }),
        (i.removeAll = function () {
          this.options.splice(0);
        }),
        (i.clear = function () {
          for (let e of this.options) e.selected = !1;
          this.render();
        }),
        (i.getRandom = function () {
          return Math.floor(899999 * Math.random()) + 1e5;
        }),
        (i.triggerChange = function () {
          const e = new Event("change", {
            view: window,
            bubbles: !0,
            cancelable: !1,
          });
          this.dispatchEvent(e);
        }),
        (i.isInvalid = function (e) {
          return /\bis-invalid\b/.test(e);
        }),
        (i.attributeChangedCallback = function (e, t, n) {
          if ("class" == e) {
            if (this.targetId && this.isInvalid(t) != this.isInvalid(n)) {
              let e = document
                  .getElementById(this.targetId)
                  .querySelectorAll("input"),
                t = this.isInvalid(n);
              e.forEach((e) => e.classList.toggle("is-invalid", t));
            }
          } else
            "value" == e &&
              (this._internals.setFormValue(this.value),
              "" !== this.value && this.classList.remove("is-invalid"));
        }),
        (i.showLoading = function () {
          var e;
          null == (e = this.target) ||
            e.appendChild(
              document
                .createRange()
                .createContextualFragment(ew.spinnerTemplate())
            );
        }),
        (i.hideLoading = function () {
          var e;
          null == (e = this.target) ||
            null == (e = e.querySelector(".ew-loading")) ||
            e.remove();
        }),
        (i.render = function () {
          let e = this.target,
            t = this.template;
          if (!e || !t || !this.list) return;
          for (; e.firstChild; ) e.removeChild(e.firstChild);
          e.innerHTML = ew.spinnerTemplate();
          let n,
            r = this,
            i = t.content,
            o = this.columns || 1,
            s = document.createElement("div"),
            a = this.length,
            l = "_" + this.getRandom(),
            u = this.classList.contains("is-invalid");
          (s.className = this.containerClass + " ew-item-container"),
            this.options
              .filter((e) => e.value)
              .forEach((e, t) => {
                let c = i.cloneNode(!0),
                  d = c.querySelector("input"),
                  p = c.querySelector("label"),
                  h = "_" + this.getRandom();
                (d.name = d.name + ("radio" == d.type ? l : h)),
                  (d.id = d.id + h),
                  (d.value = e.value),
                  d.setAttribute("data-index", t),
                  (d.checked = e.selected),
                  d.classList.add("ew-custom-option"),
                  u && d.classList.add("is-invalid"),
                  d.addEventListener("click", function () {
                    let e = parseInt(this.getAttribute("data-index"), 10);
                    if ("select-one" == r.type)
                      for (let e of r.options) e.selected = !1;
                    (r.options[e].selected = this.checked),
                      r.setAttribute("value", r.value),
                      r.triggerChange();
                  }),
                  (p.innerHTML = e.text),
                  (p.htmlFor = d.id);
                let f = document.createElement("div");
                if (
                  ((f.className = this.cellClass),
                  f.appendChild(c),
                  t % o == 0 &&
                    ((n = document.createElement("div")),
                    (n.className = this.rowClass)),
                  n.append(f),
                  t % o == o - 1)
                )
                  s.append(n);
                else if (t == a - 1) {
                  for (let e = (t % o) + 1; e < o; e++) {
                    let e = document.createElement("div");
                    (e.className = this.cellClass), n.append(e);
                  }
                  s.append(n);
                }
              }),
            (e.innerHTML = ""),
            e.append(s),
            this.setAttribute("value", this.value);
        }),
        (i.focus = function () {
          var t;
          this.list
            ? null == (t = this.target) ||
              null == (t = t.querySelector("input")) ||
              t.focus()
            : e.prototype.focus.call(this);
        }),
        d(
          r,
          [
            {
              key: "form",
              get: function () {
                return this._internals.form;
              },
            },
            {
              key: "name",
              get: function () {
                return this.getAttribute("name");
              },
            },
            {
              key: "targetId",
              get: function () {
                return this.getAttribute("data-target");
              },
            },
            {
              key: "target",
              get: function () {
                return this.parentNode.querySelector("#" + this.targetId);
              },
            },
            {
              key: "templateId",
              get: function () {
                return this.getAttribute("data-template");
              },
            },
            {
              key: "template",
              get: function () {
                return this.parentNode.querySelector("#" + this.templateId);
              },
            },
            {
              key: "inputId",
              get: function () {
                return this.getAttribute("data-input");
              },
            },
            {
              key: "input",
              get: function () {
                return this.parentNode.querySelector("#" + this.inputId);
              },
            },
            {
              key: "list",
              get: function () {
                return this.options;
              },
            },
            {
              key: "columns",
              get: function () {
                var e;
                if (null != (e = ew) && e.IS_MOBILE) return 1;
                {
                  let e = this.getAttribute("data-repeatcolumn");
                  return e ? parseInt(e, 10) : 1;
                }
              },
            },
            {
              key: "length",
              get: function () {
                return this.options.length;
              },
            },
            {
              key: "selectedIndex",
              get: function () {
                return this.options.findIndex((e) => e.selected);
              },
              set: function (e) {
                let t = this.options[e];
                t &&
                  (this.options.forEach((e) => (e.selected = !1)),
                  (t.selected = !0),
                  this.render());
              },
            },
            {
              key: "type",
              get: function () {
                return (
                  this.getAttribute("data-type") || this.getAttribute("type")
                );
              },
            },
            {
              key: "multiple",
              get: function () {
                return "select-multiple" == this.type;
              },
            },
            {
              key: "value",
              get: function () {
                return "select-one" == this.type ||
                  "select-multiple" == this.type
                  ? this.values.join(ew.MULTIPLE_OPTION_SEPARATOR || ",")
                  : this.getAttribute("value");
              },
              set: function (e) {
                if ("select-one" == this.type)
                  for (let t of this.options) t.selected = t.value == e;
                else if ("select-multiple" == this.type) {
                  let t;
                  if (Array.isArray(e))
                    t = e.map((e) => (null != e ? e : String(e)));
                  else
                    null != e || (e = String(e)),
                      (t = e
                        ? e.split(ew.MULTIPLE_OPTION_SEPARATOR || ",")
                        : []);
                  for (let e of this.options)
                    e.selected = t.includes(String(e.value));
                } else this.setAttribute("value", e);
                this.render();
              },
            },
            {
              key: "values",
              get: function () {
                if ("select-one" == this.type || "select-multiple" == this.type)
                  return this.options
                    .filter((e) => e.selected)
                    .map((e) => e.value);
                {
                  let e = this.getAttribute("value");
                  return e ? e.split(ew.MULTIPLE_OPTION_SEPARATOR || ",") : [];
                }
              },
            },
          ],
          [
            {
              key: "observedAttributes",
              get: function () {
                return ["class", "value"];
              },
            },
            {
              key: "formAssociated",
              get: function () {
                return !0;
              },
            },
          ]
        ),
        r
      );
    })(w(HTMLElement));
  a.ready("adminlte", function () {
    let e = jQuery;
    e(window).off("load.lte.treeview").off("load.lte.sidebarsearch"),
      a.ready("templates", () => {
        document
          .querySelectorAll("[data-widget=treeview]")
          .forEach((t) => e(t).Treeview(null)),
          document
            .querySelectorAll("[data-widget=sidebar-search]")
            .forEach((t) => e(t).SidebarSearch(null));
      }),
      (adminlte.CardRefresh.overlayTemplate = ew.overlayTemplate());
  }),
    (window.loadjs = a),
    customElements.define("selection-list", b);
  let S,
    A = () => {},
    O = (e) =>
      (e.element instanceof HTMLOptionElement ? e.element.innerHTML : "") ||
      e.text,
    E = {
      SelectionListOption: v,
      PAGE_ID: "",
      RELATIVE_PATH: "",
      MULTIPLE_OPTION_SEPARATOR: ",",
      GENERATE_PASSWORD_UPPERCASE: !0,
      GENERATE_PASSWORD_LOWERCASE: !0,
      GENERATE_PASSWORD_NUMBER: !0,
      GENERATE_PASSWORD_SPECIALCHARS: 1,
      CONFIRM_CANCEL: !0,
      UNFORMAT_YEAR: 50,
      LAZY_LOAD_DELAY: 0,
      AJAX_DELAY: 5,
      LOOKUP_DELAY: 250,
      MAX_OPTION_COUNT: 3,
      MIN_SESSION_KEEP_ALIVE_INTERVAL: 60,
      NUMBERING_SYSTEM: "",
      SERVICE_WORKER: "sw.js",
      Language: h,
      language: new h(),
      vars: null,
      maps: {},
      addOptionDialog: null,
      emailDialog: null,
      importDialog: null,
      modalDialog: null,
      modalLookupDialog: null,
      ajaxBatchSize: 5,
      autoSuggestSettings: {
        highlight: !0,
        hint: !0,
        minLength: 1,
        debounce: 250,
        delay: 250,
        templates: {},
        classNames: {
          menu: "tt-menu dropdown-menu",
          input: "tt-input form-control",
          dataset: "tt-dataset",
          suggestion: "tt-suggestion dropdown-item",
          cursor: "active",
        },
      },
      lightboxSettings: { transition: "none", photo: !0, opacity: 0.5 },
      calendarOptions: {
        showViewPageOnEventClick: !1,
        useContextMenu: !0,
        usePopover: !0,
        popoverViews: ["dayGridMonth"],
        fullCalendarOptions: {
          headerToolbar: {
            start: "prev,next today",
            center: "title",
            end: "dayGridMonth,timeGridWeek,timeGridDay,listWeek",
          },
          themeSystem: "bootstrap5",
          initialView: "dayGridMonth",
          dayMaxEventRows: !0,
          timeZone: "UTC",
          droppable: !0,
          editable: !0,
        },
        eventPopoverOptions: { placement: "auto", trigger: "hover", html: !0 },
      },
      uploadOptions: {
        cropperOptions: { autoCropArea: 1, viewMode: 2 },
        cropperCanvasOptions: {
          minWidth: 256,
          minHeight: 256,
          maxWidth: 4096,
          maxHeight: 4096,
          fillColor: "#fff",
          imageSmoothingQuality: "high",
        },
      },
      importUploadOptions: { maxFileSize: 1e7, maxNumberOfFiles: 10 },
      sweetAlertSettings: {
        showClass: {
          popup: "swal2-noanimation",
          backdrop: "swal2-noanimation",
          icon: "",
        },
        hideClass: { popup: "", backdrop: "", icon: "" },
        customClass: {
          container: "ew-swal2-container",
          popup: "ew-swal2-popup",
          header: "ew-swal2-header",
          title: "ew-swal2-title",
          closeButton: "ew-swal2-close-button",
          icon: "ew-swal2-icon",
          image: "ew-swal2-image",
          htmlContainer: "ew-swal2-html-container",
          content: "ew-swal2-content",
          input: "form-control ew-swal2-input",
          inputLabel: "ew-swal2-input-label",
          validationMessage: "ew-swal2-validation-message",
          actions: "ew-swal2-actions",
          confirmButton: "btn btn-primary ew-swal2-confirm-button",
          denyButton: "btn btn-danger ew-swal2-deny-button",
          cancelButton: "btn btn-secondary ew-swal2-cancel-button",
          loader: "ew-swal2-loader",
          footer: "ew-swal2-footer",
        },
      },
      selectOptions: {
        allowClear: !0,
        theme: "bootstrap5",
        width: "style",
        minimumResultsForSearch: 20,
        escapeMarkup: (e) => e,
        templateResult: O,
        templateSelection: O,
        debounce: 250,
        customOption: !0,
        containerClass: "d-sm-table",
        rowClass: "d-sm-table-row",
        cellClass: "d-sm-table-cell text-nowrap",
        iconClass: "form-check-label",
      },
      selectMinimumInputLength: 1,
      modalLookupOptions: {
        allowClear: !0,
        theme: "bootstrap5",
        width: "100%",
        escapeMarkup: (e) => e,
        templateResult: O,
        templateSelection: O,
        closeOnSelect: !1,
        minimumInputLength: 0,
        dropdownCssClass: "ew-modal-dropdown",
        modal: !0,
        debounce: 250,
        draggableOptions: { cursor: "grabbing" },
      },
      filterOptions: {
        allowClear: !0,
        theme: "bootstrap5",
        width: "100%",
        escapeMarkup: (e) => e,
        templateResult: O,
        templateSelection: O,
        closeOnSelect: !1,
        minimumInputLength: 0,
        dropdownAutoWidth: !0,
        dropdownCssClass: "ew-filter-dropdown",
        debounce: 250,
        customOption: !0,
        columns: 1,
        multiple: !0,
        preventScroll: !0,
        containerClass: "container",
        rowClass: "row",
        cellClass: "col text-nowrap",
        iconClass: "form-check-label",
      },
      importTabulatorOptions: { height: 300 },
      toastOptions: { position: "topRight" },
      tippyOptions: { theme: "translucent" },
      DOMPurifyConfig: {},
      sanitize: function (e) {
        return DOMPurify.sanitize(e, this.DOMPurifyConfig);
      },
      draggableOptions: { cursor: "grabbing" },
      queryBuilderOptions: { allowViewRules: !1, allowClearRules: !1 },
      queryBuilderPlugins: {
        "filter-description": null,
        "unique-filter": null,
        "not-group": null,
      },
      queryBuilderErrorClass: "invalid-tooltip",
      bundleIds: ["dom", "head"],
      tooltipOptions: {
        placement: "bottom",
        customClass: "ew-custom-tooltip",
        sanitizeFn: null,
      },
      popoverOptions: {
        html: !0,
        customClass: "ew-custom-popover",
        sanitizeFn: null,
      },
      PDFObjectOptions: {},
      chartConfig: {},
      spinnerClass: "spinner-border text-primary",
      screenMediaQuery: "(min-width: 768px)",
      jsRenderHelpers: {},
      jsRenderAttributes: ["src", "href", "title"],
      autoHideSuccessMessage: !0,
      autoHideSuccessMessageDelay: 5e3,
      searchOperatorChange: A,
      setLanguage: A,
      addOptionDialogShow: A,
      importDialogShow: A,
      toggleSearchOperator: A,
      togglePassword: A,
      sort: A,
      selectKey: A,
      export: A,
      exportWithCharts: A,
      setSearchType: A,
      emailDialogShow: A,
      selectAll: A,
      selectAllKeys: A,
      submitAction: A,
      addGridRow: A,
      confirmDelete: () => !1,
      deleteGridRow: () => !1,
    };
  (E.getStoredTheme = () => localStorage.getItem("theme")),
    (E.setStoredTheme = (e) => localStorage.setItem("theme", e)),
    (E.getPreferredTheme = () => {
      const e = E.getStoredTheme();
      return (
        e ||
        (window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light")
      );
    }),
    (E.isDark = () => "dark" == E.getPreferredTheme()),
    (E.updateIframes = () =>
      document.querySelectorAll(".ew-iframe").forEach((e) => {
        const t = E.getPreferredTheme(),
          n = e.contentWindow.document.documentElement;
        n.setAttribute("data-bs-theme", t),
          n.classList.toggle("dark", "dark" == t);
      })),
    (E.setTheme = (e) => {
      "light" !== e &&
        "dark" !== e &&
        (e = window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light"),
        "print" == new URL(window.location).searchParams.get("export") &&
          (e = "light"),
        document.documentElement.setAttribute("data-bs-theme", e),
        E.updateIframes();
      const t = new CustomEvent("changetheme", { detail: e });
      document.dispatchEvent(t);
    }),
    E.setTheme(E.getPreferredTheme()),
    (E.showActiveTheme = function (e, t) {
      void 0 === t && (t = !1);
      const n = document.querySelector("#bd-theme");
      if (!n) return;
      const r = document.querySelector("#bd-theme-text"),
        i = document.querySelector(".theme-icon-active"),
        o = document.querySelector("[data-bs-theme-value='" + e + "']");
      if (!o) return;
      const s = o.querySelector(".theme-icon");
      document.querySelectorAll("[data-bs-theme-value]").forEach((e) => {
        e.classList.remove("active"), e.setAttribute("aria-pressed", "false");
      }),
        o.classList.add("active"),
        o.setAttribute("aria-pressed", "true");
      let a = Array.from(i.classList.values());
      for (const e of a)
        (e.startsWith("fa-") || e.startsWith("bi-")) && i.classList.remove(e);
      let l = null == s ? void 0 : s.classList.values();
      for (const e of l)
        (e.startsWith("fa-") || e.startsWith("bi-")) && i.classList.add(e);
      const u = r.textContent + " (" + o.dataset.bsThemeValue + ")";
      n.setAttribute("aria-label", u), t && n.focus();
    }),
    window
      .matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", () => {
        const e = E.getStoredTheme();
        "light" !== e && "dark" !== e && E.setTheme(E.getPreferredTheme());
      }),
    a.ready("template.colormodes", () => {
      const e = E.getPreferredTheme();
      E.showActiveTheme(e),
        E.updateIframes(),
        document.querySelectorAll("[data-bs-theme-value]").forEach((e) => {
          e.addEventListener("click", () => {
            let t = e.getAttribute("data-bs-theme-value");
            E.setStoredTheme(t), E.setTheme(t), E.showActiveTheme(t, !0);
          });
        });
    }),
    (E.initPanel = (e) => {
      if (e.dataset.isset) return;
      let t = "";
      for (let n of e.children) if (((t = n.innerHTML.trim()), "" !== t)) break;
      "" === t && e.classList.add("d-none"), (e.dataset.isset = !0);
    }),
    (E.panelSelectors = [
      ".user-panel",
      ".ew-grid-upper-panel",
      ".ew-grid-lower-panel",
      ".ew-multi-column-row > * > .card > .card-header",
      ".ew-multi-column-row > * > .card > .card-footer",
    ]),
    (E.initPanels = (e) =>
      null == e
        ? void 0
        : e.querySelectorAll(E.panelSelectors.join(",")).forEach(E.initPanel));
  let L = () => {
    E.initPanels(document), (S = requestAnimationFrame(L));
  };
  a.ready("wrapper", () => (S = requestAnimationFrame(L))),
    document.addEventListener("DOMContentLoaded", () => {
      E.initPanels(document), cancelAnimationFrame(S), a.done("dom");
    }),
    (E.loadjs = function (e, t, n) {
      let r = null != t && t.trim ? t : "";
      r && "load" != r && !E.bundleIds.includes(r) && E.bundleIds.push(r);
      let i = (r ? n : t) || {};
      (e = (e = Array.isArray(e) ? e : [e]).filter(
        (e) => e && (!Array.isArray(e) || e.length)
      )),
        i.call && (i = { success: i }),
        (i = { ...i, returnPromise: !0 });
      let o = { ...i },
        s = Promise.resolve();
      return (
        delete o.success,
        e.forEach((e, t, n) => {
          s =
            t == n.length - 1
              ? s.then(() =>
                  a(e, r || i, r ? i : null).catch((e) => console.log(e))
                )
              : s.then(() => a(e, o).catch((e) => console.log(e)));
        }),
        s
      );
    }),
    (E.ready = function (e, t, n, r) {
      let i = null != n && n.trim ? n : "";
      i && "load" != i && !E.bundleIds.includes(i) && E.bundleIds.push(i),
        a.ready(e, function () {
          E.loadjs(t, n, r);
        });
    }),
    a.ready("head", function () {
      E.clientScript();
    }),
    a.ready("foot", function () {
      E.startupScript(), a.done("load");
    });
  let T = function () {
    let e = {},
      t = !0,
      n = 0;
    !1 === arguments[0] && ((t = !1), n++),
      "object" == typeof arguments[n] && ((e = arguments[n]), n++);
    let r = function (n) {
      for (let r in n)
        n.hasOwnProperty(r) &&
          ("object" != typeof n[r] || Array.isArray(n[r]) || null === n[r]
            ? t
              ? (e[r] = n[r])
              : e.hasOwnProperty(r) || (e[r] = n[r])
            : (e[r] = T(t, e[r], n[r])));
    };
    for (; n < arguments.length; n++)
      "object" == typeof arguments[n] && r(arguments[n]);
    return e;
  };
  return (
    (E.deepAssign = T),
    (E.applyTemplateId = ["jsrender", "makerjs"]),
    a.ready("jsrender", () => $.views.helpers({ ew: E })),
    (E.renderTemplate = function (e, t) {
      let n = jQuery,
        r = null != e && e.render ? e : n(e);
      if (!r.render) return;
      let i = { $template: r, data: t };
      n(document).trigger("rendertemplate", [i]);
      let o = r.render(i.data, E.jsRenderHelpers),
        s = i.$template.data("method"),
        l = i.$template.data("target");
      return (
        o && s && l
          ? n(o)[s](l)
          : o && !s && l
          ? n(l).html(o)
          : !o || s || l || r.parent().append(o),
        a.done("template." + r.data("name")),
        o
      );
    }),
    (E.renderJsTemplates = function (e) {
      var t;
      let n = jQuery,
        r = null != (t = null == e ? void 0 : e.target) ? t : document;
      Array.from(r.querySelectorAll(".ew-js-template"))
        .sort(
          (e, t) =>
            (e = parseInt(e.dataset.seq, 10) || 0) -
            (t = parseInt(t.dataset.seq, 10) || 0)
        )
        .forEach((e) => {
          let t = e.dataset.name,
            r = e.dataset.data;
          (r && "string" == typeof r && ((r = E.vars[r] || window[r]), !r)) ||
            (t
              ? n.render[t] ||
                (n.templates(t, e.text), E.renderTemplate(n(e), r))
              : E.renderTemplate(n(e), r));
        }),
        a.done("templates");
    }),
    (E.overlayTemplate = function () {
      return (
        '<div class="overlay"><div class="' +
        this.spinnerClass +
        '" style="width: 3rem; height: 3rem;" role="status"><span class="visually-hidden">' +
        this.language.phrase("Loading") +
        "</span></div></div>"
      );
    }),
    (E.spinnerTemplate = function () {
      return (
        '<div class="' +
        this.spinnerClass +
        ' m-3 ew-loading" role="status"><span class="visually-hidden">' +
        this.language.phrase("Loading") +
        "</span></div>"
      );
    }),
    E
  );
})();
//# sourceMappingURL=ewcore.min.js.map
